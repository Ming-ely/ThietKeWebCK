<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh má»¥c sÃ¡ch</title>

    <link rel="stylesheet" href="Trangchu.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<div id="menu-overlay"></div>

<div id="mega-menu" class="mega-menu">

    <h2>ğŸ“š Danh má»¥c sÃ¡ch</h2>
    <button id="close-menu-btn">X</button>

    <div class="mega-content">

        <div class="mega-col">
            <h3>ğŸ“˜ SÃ¡ch Kinh Táº¿</h3>
            <a href="category.html?type=kinh-te">NhÃ¢n váº­t - BÃ i há»c kinh doanh</a>
            <a href="category.html?type=kinh-te">Quáº£n trá»‹ - LÃ£nh Ä‘áº¡o</a>
            <a href="category.html?type=kinh-te">Marketing - BÃ¡n hÃ ng</a>
            <a href="category.html?type=kinh-te">PhÃ¢n tÃ­ch kinh táº¿</a>
        </div>

        <div class="mega-col">
            <h3>ğŸ“™ Ká»¹ NÄƒng Sá»‘ng</h3>
            <a href="category.html?type=ky-nang">TÆ° duy tÃ­ch cá»±c</a>
            <a href="category.html?type=ky-nang">Giao tiáº¿p - á»¨ng xá»­</a>
            <a href="category.html?type=ky-nang">Quáº£n lÃ½ thá»i gian</a>
            <a href="category.html?type=ky-nang">LÃ m chá»§ cáº£m xÃºc</a>
        </div>
        
        <div class="mega-col">
            <h3>ğŸ“— PhÃ¡t Triá»ƒn Báº£n ThÃ¢n</h3>
            <a href="category.html?type=phat-trien">TÆ° duy - Khai sÃ¡ng</a>
            <a href="category.html?type=phat-trien">TÃ¢m lÃ½ há»c</a>
            <a href="category.html?type=phat-trien">Ká»¹ nÄƒng má»m</a>
        </div>

        <div class="mega-col">
            <h3>ğŸ“• SÃ¡ch TÃ¢m LÃ½</h3>
            <a href="category.html?type=tam-ly">TÃ¢m lÃ½ há»c</a>
            <a href="category.html?type=tam-ly">Sá»©c khá»e tinh tháº§n</a>
            <a href="category.html?type=tam-ly">TÃ¬nh yÃªu - HÃ´n nhÃ¢n</a>
        </div>
        
        <div class="mega-col">
            <h3>ğŸ“” SÃ¡ch VÄƒn Há»c</h3>
            <a href="category.html?type=van-hoc">Tiá»ƒu thuyáº¿t</a>
            <a href="category.html?type=van-hoc">Truyá»‡n ngáº¯n</a>
            <a href="category.html?type=van-hoc">ThÆ¡ ca</a>
        </div>
        
         <div class="mega-col">
            <h3>ğŸ§’ SÃ¡ch Thiáº¿u Nhi</h3>
            <a href="category.html?type=thieu-nhi">SÃ¡ch truyá»‡n</a>
            <a href="category.html?type=thieu-nhi">SÃ¡ch giÃ¡o dá»¥c sá»›m</a>
        </div>
    </div>
</div>

<header>
    <h1>BookStore</h1>
    <nav>
        <a href="../Trangchu/Trangchu.html">Trang chá»§</a> 

        <a href="../Giohang/cart.html" id="cartLink">Giá» hÃ ng</a> 

        <a href="../loginregister/login.html" id="loginBtn">ÄÄƒng nháº­p</a>
        <a href="../loginregister/register.html" id="registerBtn">ÄÄƒng kÃ½</a>
        
        <span id="userInfo" style="display:none; font-weight:bold; color:white;">
            ğŸ‘¤ Xin chÃ o, <span id="nameDisplay"></span>!
        </span>

        <a href="#" id="logoutBtn" style="display:none; margin-left:10px; color:yellow; font-weight:bold;">
            ÄÄƒng xuáº¥t
        </a>
    </nav>
</header>

<div class="search-bar">
    <input type="text" placeholder="TÃ¬m kiáº¿m sÃ¡ch, tÃ¡c giáº£, thá»ƒ loáº¡i...">
    <button><i class="fas fa-search"></i> TÃ¬m kiáº¿m</button>
    <button id="menu-btn" class="menu-btn"><i class="fas fa-bars"></i> Danh má»¥c</button>
</div>

<section class="book-section">
    <h2 id="category-title">Danh má»¥c</h2>
    <div id="category-grid" class="book-grid"></div>
</section>

<footer>
    <div class="footer-content">
        <div>
            <h3>BOOKSTORE</h3>
            <p>Website bÃ¡n sÃ¡ch hiá»‡n Ä‘áº¡i â€“ nhanh â€“ tiá»‡n lá»£i.</p>
        </div>

        <div>
            <h4>LiÃªn há»‡</h4>
            <p>Email: support@bookstore.vn</p>
            <p>Hotline: 0123 456 789</p>
        </div>

        <div>
            <h4>Follow chÃºng tÃ´i</h4>
            <p>Facebook</p>
            <p>Zalo</p>
            <p>TikTok</p>
        </div>
    </div>

    <p class="copyright">Â© 2025 BookStore. All rights reserved.</p>
</footer>

<script src="category.js"></script>

<script>
    // HÃ m cáº­p nháº­t sá»‘ lÆ°á»£ng Giá» hÃ ng (copy tá»« Trangchu.js)
    function getCart() {
        return JSON.parse(localStorage.getItem("cart")) || [];
    }
    
    function updateCartCount() {
        const cart = getCart();
        const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0); 
        const cartLink = document.getElementById("cartLink");

        if (cartLink) {
            cartLink.textContent = `Giá» hÃ ng (${totalCount})`;
        }
    }


    document.addEventListener("DOMContentLoaded", () => {
        // ... (Logic menu giá»¯ nguyÃªn)

        const menuBtn = document.getElementById("menu-btn");
        const megaMenu = document.getElementById("mega-menu");
        const overlay = document.getElementById("menu-overlay");

        menuBtn.onclick = () => {
            megaMenu.classList.add("active");
            overlay.style.display = "block";
        };

        overlay.addEventListener("click", () => {
            megaMenu.classList.remove("active");
            overlay.style.display = "none";
        });

        document.getElementById("close-menu-btn").onclick = () => {
            megaMenu.classList.remove("active");
            overlay.style.display = "none";
        };

        megaMenu.querySelectorAll("a").forEach(link => {
            link.onclick = () => {
                 megaMenu.classList.remove("active");
                 overlay.style.display = "none";
            };
        });
        
        // ğŸš€ Gá»i hÃ m cáº­p nháº­t sá»‘ lÆ°á»£ng khi trang load
        updateCartCount(); 
        
        // Logic Login/Logout (giá»¯ nguyÃªn)
        const token = localStorage.getItem("token");
        const username = localStorage.getItem("username");

        const loginBtn = document.getElementById("loginBtn");
        const registerBtn = document.getElementById("registerBtn");

        const userInfo = document.getElementById("userInfo");
        const nameDisplay = document.getElementById("nameDisplay");
        const logoutBtn = document.getElementById("logoutBtn");

        if (token && username) {
            loginBtn.style.display = "none";
            registerBtn.style.display = "none";
            userInfo.style.display = "inline-block";
            nameDisplay.textContent = username;
            logoutBtn.style.display = "inline-block";
        }

        logoutBtn.addEventListener("click", function (e) {
            e.preventDefault();
            localStorage.removeItem("token");
            localStorage.removeItem("username");
            window.location.reload();
        });
    });
</script>

</body>
</html>